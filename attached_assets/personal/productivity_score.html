<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productivity Score - Task Crown</title>
  <link rel="stylesheet" href="productivity_score.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <nav class="navbar">
    <div class="navbar-left">
      <div class="logo">
        <span class="logo-icon">üëë</span>
        <span class="logo-text">Task Crown</span>
      </div>
    </div>
    <div class="navbar-center">
      <a href="personal.html" class="nav-link">Dashboard</a>
      <a href="pending_tasks.html" class="nav-link">Pending Tasks</a>
      <a href="high_priority.html" class="nav-link">High Priority</a>
      <a href="completed_this_week.html" class="nav-link">Completed</a>
      <a href="productivity_score.html" class="nav-link active">Productivity</a>
    </div>
    <div class="navbar-right">
      <button class="profile-btn">
        <span class="profile-avatar">üë§</span>
      </button>
      <button class="logout-btn" onclick="logout()">
        <span class="logout-icon">üö™</span>
        <span class="logout-text">Logout</span>
      </button>
    </div>
  </nav>

  <main class="main-content">
    <div class="page-header">
      <div class="header-icon">üìä</div>
      <div class="header-content">
        <h1>Productivity Score</h1>
        <p>Track your productivity trends and optimize your workflow.</p>
      </div>
    </div>

    <div class="score-hero">
      <div class="score-circle">
        <div class="score-inner">
          <div class="score-value">87</div>
          <div class="score-label">Score</div>
        </div>
        <svg class="score-ring" width="200" height="200">
          <circle cx="100" cy="100" r="85" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="none"/>
          <circle cx="100" cy="100" r="85" stroke="url(#gradient)" stroke-width="8" fill="none" 
                  stroke-dasharray="534" stroke-dashoffset="69" stroke-linecap="round" 
                  style="transform: rotate(-90deg); transform-origin: center;"/>
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#00d2ff"/>
              <stop offset="100%" style="stop-color:#3a7bd5"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="score-insights">
        <div class="insight-item">
          <span class="insight-icon">üìà</span>
          <div class="insight-content">
            <div class="insight-title">Trending Up</div>
            <div class="insight-desc">+12 points this week</div>
          </div>
        </div>
        <div class="insight-item">
          <span class="insight-icon">üéØ</span>
          <div class="insight-content">
            <div class="insight-title">Above Average</div>
            <div class="insight-desc">23% better than last month</div>
          </div>
        </div>
        <div class="insight-item">
          <span class="insight-icon">‚ö°</span>
          <div class="insight-content">
            <div class="insight-title">Peak Performance</div>
            <div class="insight-desc">Best score: 94 (2 days ago)</div>
          </div>
        </div>
      </div>
    </div>

    <div class="metrics-grid">
      <div class="metric-card">
        <div class="metric-header">
          <span class="metric-icon">‚úÖ</span>
          <span class="metric-title">Task Completion</span>
        </div>
        <div class="metric-value">92%</div>
        <div class="metric-bar">
          <div class="metric-fill" style="width: 92%"></div>
        </div>
        <div class="metric-change positive">+5% from last week</div>
      </div>

      <div class="metric-card">
        <div class="metric-header">
          <span class="metric-icon">‚è∞</span>
          <span class="metric-title">Time Efficiency</span>
        </div>
        <div class="metric-value">78%</div>
        <div class="metric-bar">
          <div class="metric-fill" style="width: 78%"></div>
        </div>
        <div class="metric-change negative">-2% from last week</div>
      </div>

      <div class="metric-card">
        <div class="metric-header">
          <span class="metric-icon">üéØ</span>
          <span class="metric-title">Focus Score</span>
        </div>
        <div class="metric-value">85%</div>
        <div class="metric-bar">
          <div class="metric-fill" style="width: 85%"></div>
        </div>
        <div class="metric-change positive">+8% from last week</div>
      </div>

      <div class="metric-card">
        <div class="metric-header">
          <span class="metric-icon">üî•</span>
          <span class="metric-title">Consistency</span>
        </div>
        <div class="metric-value">90%</div>
        <div class="metric-bar">
          <div class="metric-fill" style="width: 90%"></div>
        </div>
        <div class="metric-change positive">+3% from last week</div>
      </div>
    </div>

    <div class="chart-section">
      <h2>üìà Weekly Trends</h2>
      <div class="chart-container">
        <div class="chart-header">
          <span>Productivity Score Over Time</span>
          <div class="chart-legend">
            <span class="legend-item">
              <span class="legend-color" style="background: #00d2ff"></span>
              This Week
            </span>
            <span class="legend-item">
              <span class="legend-color" style="background: rgba(255,255,255,0.3)"></span>
              Last Week
            </span>
          </div>
        </div>
        <div class="chart">
          <div class="chart-bars">
            <div class="bar-group">
              <div class="bar current" style="height: 70%">
                <div class="bar-value">70%</div>
              </div>
              <div class="bar previous" style="height: 68%">
                <div class="bar-value">68%</div>
              </div>
              <span class="bar-label">Mon</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 80%">
                <div class="bar-value">80%</div>
              </div>
              <div class="bar previous" style="height: 72%">
                <div class="bar-value">72%</div>
              </div>
              <span class="bar-label">Tue</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 90%">
                <div class="bar-value">90%</div>
              </div>
              <div class="bar previous" style="height: 78%">
                <div class="bar-value">78%</div>
              </div>
              <span class="bar-label">Wed</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 85%">
                <div class="bar-value">85%</div>
              </div>
              <div class="bar previous" style="height: 75%">
                <div class="bar-value">75%</div>
              </div>
              <span class="bar-label">Thu</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 95%">
                <div class="bar-value">95%</div>
              </div>
              <div class="bar previous" style="height: 82%">
                <div class="bar-value">82%</div>
              </div>
              <span class="bar-label">Fri</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 75%">
                <div class="bar-value">75%</div>
              </div>
              <div class="bar previous" style="height: 70%">
                <div class="bar-value">70%</div>
              </div>
              <span class="bar-label">Sat</span>
            </div>
            <div class="bar-group">
              <div class="bar current" style="height: 60%">
                <div class="bar-value">60%</div>
              </div>
              <div class="bar previous" style="height: 65%">
                <div class="bar-value">65%</div>
              </div>
              <span class="bar-label">Sun</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="detailed-charts-section">
      <h2>üìä Detailed Metrics Analysis</h2>
      <div class="charts-grid">
        <div class="chart-card">
          <h3>Task Completion Rate</h3>
          <div class="mini-chart">
            <div class="chart-line">
              <div class="data-point" style="left: 0%; top: 12%"></div>
              <div class="data-point" style="left: 16.67%; top: 8%"></div>
              <div class="data-point" style="left: 33.33%; top: 5%"></div>
              <div class="data-point" style="left: 50%; top: 11%"></div>
              <div class="data-point" style="left: 66.67%; top: 4%"></div>
              <div class="data-point" style="left: 83.33%; top: 9%"></div>
              <div class="data-point" style="left: 100%; top: 13%"></div>
            </div>
            <div class="chart-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>
          <div class="chart-stats">
            <div class="stat-item">
              <span class="stat-label">Average:</span>
              <span class="stat-value">91.1%</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Peak:</span>
              <span class="stat-value">96% (Fri)</span>
            </div>
          </div>
        </div>

        <div class="chart-card">
          <h3>Time Efficiency</h3>
          <div class="mini-chart">
            <div class="chart-line">
              <div class="data-point" style="left: 0%; top: 25%"></div>
              <div class="data-point" style="left: 16.67%; top: 22%"></div>
              <div class="data-point" style="left: 33.33%; top: 18%"></div>
              <div class="data-point" style="left: 50%; top: 21%"></div>
              <div class="data-point" style="left: 66.67%; top: 15%"></div>
              <div class="data-point" style="left: 83.33%; top: 23%"></div>
              <div class="data-point" style="left: 100%; top: 28%"></div>
            </div>
            <div class="chart-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>
          <div class="chart-stats">
            <div class="stat-item">
              <span class="stat-label">Average:</span>
              <span class="stat-value">78.3%</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Peak:</span>
              <span class="stat-value">85% (Fri)</span>
            </div>
          </div>
        </div>

        <div class="chart-card">
          <h3>Focus Score</h3>
          <div class="mini-chart">
            <div class="chart-line">
              <div class="data-point" style="left: 0%; top: 20%"></div>
              <div class="data-point" style="left: 16.67%; top: 15%"></div>
              <div class="data-point" style="left: 33.33%; top: 12%"></div>
              <div class="data-point" style="left: 50%; top: 17%"></div>
              <div class="data-point" style="left: 66.67%; top: 10%"></div>
              <div class="data-point" style="left: 83.33%; top: 18%"></div>
              <div class="data-point" style="left: 100%; top: 22%"></div>
            </div>
            <div class="chart-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>
          <div class="chart-stats">
            <div class="stat-item">
              <span class="stat-label">Average:</span>
              <span class="stat-value">83.7%</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Peak:</span>
              <span class="stat-value">90% (Fri)</span>
            </div>
          </div>
        </div>

        <div class="chart-card">
          <h3>Consistency Score</h3>
          <div class="mini-chart">
            <div class="chart-line">
              <div class="data-point" style="left: 0%; top: 15%"></div>
              <div class="data-point" style="left: 16.67%; top: 12%"></div>
              <div class="data-point" style="left: 33.33%; top: 8%"></div>
              <div class="data-point" style="left: 50%; top: 13%"></div>
              <div class="data-point" style="left: 66.67%; top: 6%"></div>
              <div class="data-point" style="left: 83.33%; top: 11%"></div>
              <div class="data-point" style="left: 100%; top: 16%"></div>
            </div>
            <div class="chart-labels">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>
          <div class="chart-stats">
            <div class="stat-item">
              <span class="stat-label">Average:</span>
              <span class="stat-value">88.4%</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Peak:</span>
              <span class="stat-value">94% (Fri)</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="trend-analysis-section">
      <h2>üìà Trend Analysis</h2>
      <div class="trend-grid">
        <div class="trend-card positive">
          <div class="trend-icon">üìà</div>
          <div class="trend-content">
            <h4>Weekly Improvement</h4>
            <p>Your productivity score has increased by 12% compared to last week, with consistent growth across all metrics.</p>
            <div class="trend-data">
              <span class="trend-value">+12%</span>
              <span class="trend-period">vs last week</span>
            </div>
          </div>
        </div>
        
        <div class="trend-card positive">
          <div class="trend-icon">üéØ</div>
          <div class="trend-content">
            <h4>Peak Performance</h4>
            <p>Friday shows your highest productivity with 95% score, indicating optimal end-of-week momentum.</p>
            <div class="trend-data">
              <span class="trend-value">95%</span>
              <span class="trend-period">Friday peak</span>
            </div>
          </div>
        </div>
        
        <div class="trend-card neutral">
          <div class="trend-icon">üìä</div>
          <div class="trend-content">
            <h4>Consistency Pattern</h4>
            <p>Mid-week (Wednesday) consistently shows strong performance, while weekends show expected decline.</p>
            <div class="trend-data">
              <span class="trend-value">87%</span>
              <span class="trend-period">weekly avg</span>
            </div>
          </div>
        </div>
        
        <div class="trend-card positive">
          <div class="trend-icon">‚ö°</div>
          <div class="trend-content">
            <h4>Focus Improvement</h4>
            <p>Focus score has improved by 8% this week, suggesting better work environment and task prioritization.</p>
            <div class="trend-data">
              <span class="trend-value">+8%</span>
              <span class="trend-period">focus gain</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="recommendations-section">
      <h2>üí° Productivity Recommendations</h2>
      <div class="recommendations-grid">
        <div class="recommendation-card">
          <div class="rec-icon">üßò</div>
          <h4>Take More Breaks</h4>
          <p>Your focus score could improve with 15-minute breaks every 2 hours.</p>
          <button class="rec-btn">Try Pomodoro Timer</button>
        </div>
        <div class="recommendation-card">
          <div class="rec-icon">üìÖ</div>
          <h4>Time Blocking</h4>
          <p>Schedule focused work sessions to improve time efficiency.</p>
          <button class="rec-btn">Set Focus Time</button>
        </div>
        <div class="recommendation-card">
          <div class="rec-icon">üéØ</div>
          <h4>Priority Matrix</h4>
          <p>Use Eisenhower matrix to prioritize high-impact tasks.</p>
          <button class="rec-btn">Learn More</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Global state for dynamic functionality
    let productivityState = {
      currentScore: 87,
      weeklyData: [70, 80, 90, 85, 95, 75, 60],
      monthlyData: [65, 70, 75, 80, 85, 90, 87],
      // Enhanced data for different metrics
      taskCompletionData: [88, 92, 95, 89, 96, 91, 87],
      timeEfficiencyData: [75, 78, 82, 79, 85, 77, 72],
      focusScoreData: [80, 85, 88, 83, 90, 82, 78],
      consistencyData: [85, 88, 92, 87, 94, 89, 84],
      // Historical data for trends
      historicalData: {
        lastWeek: [68, 72, 78, 75, 82, 70, 65],
        lastMonth: [65, 70, 75, 80, 85, 90, 87],
        lastQuarter: [60, 65, 70, 75, 80, 85, 90]
      },
      metrics: {
        taskCompletion: 92,
        timeEfficiency: 78,
        focusScore: 85,
        consistency: 90
      }
    };

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      updateScore();
      setupChartInteractions();
      
      // Update score every minute
      setInterval(updateScore, 60000);
      
      // Update metrics every 30 seconds
      setInterval(updateMetrics, 30000);
    });

    function updateScore() {
      // Simulate real-time score fluctuations
      const change = (Math.random() - 0.5) * 2; // -1 to +1
      productivityState.currentScore = Math.max(60, Math.min(100, productivityState.currentScore + change));
      
      // Update score display
      const scoreElement = document.querySelector('.score-value');
      if (scoreElement) {
        scoreElement.textContent = Math.round(productivityState.currentScore);
      }
      
      // Update score ring
      updateScoreRing();
      
      // Update insights
      updateInsights();
    }

    function updateScoreRing() {
      const scoreRing = document.querySelector('.score-ring circle:last-child');
      if (scoreRing) {
        const circumference = 2 * Math.PI * 85; // radius = 85
        const progress = productivityState.currentScore / 100;
        const dashoffset = circumference * (1 - progress);
        scoreRing.style.strokeDashoffset = dashoffset;
      }
    }

    function updateInsights() {
      const insights = document.querySelectorAll('.insight-desc');
      if (insights.length >= 3) {
        const change = productivityState.currentScore - 87; // baseline
        insights[0].textContent = `${change > 0 ? '+' : ''}${Math.round(change)} points this week`;
        insights[1].textContent = `${Math.round((productivityState.currentScore / 87) * 100 - 100)}% better than last month`;
        insights[2].textContent = `Best score: ${Math.max(productivityState.currentScore, 94)} (${change > 0 ? 'today' : '2 days ago'})`;
      }
    }

    function updateMetrics() {
      // Simulate metric updates
      productivityState.metrics.taskCompletion += (Math.random() - 0.5) * 1;
      productivityState.metrics.timeEfficiency += (Math.random() - 0.5) * 1;
      productivityState.metrics.focusScore += (Math.random() - 0.5) * 1;
      productivityState.metrics.consistency += (Math.random() - 0.5) * 1;
      
      // Keep values in reasonable ranges
      Object.keys(productivityState.metrics).forEach(key => {
        productivityState.metrics[key] = Math.max(70, Math.min(100, productivityState.metrics[key]));
      });
      
      // Update metric displays
      updateMetricDisplays();
      
      // Update chart data periodically
      updateChartData();
    }

    function updateChartData() {
      // Update weekly data with realistic fluctuations
      productivityState.weeklyData = productivityState.weeklyData.map((value, index) => {
        const change = (Math.random() - 0.5) * 3; // -1.5 to +1.5
        return Math.max(60, Math.min(100, value + change));
      });
      
      // Update detailed metrics data
      productivityState.taskCompletionData = productivityState.taskCompletionData.map((value, index) => {
        const change = (Math.random() - 0.5) * 2;
        return Math.max(85, Math.min(98, value + change));
      });
      
      productivityState.timeEfficiencyData = productivityState.timeEfficiencyData.map((value, index) => {
        const change = (Math.random() - 0.5) * 3;
        return Math.max(70, Math.min(90, value + change));
      });
      
      productivityState.focusScoreData = productivityState.focusScoreData.map((value, index) => {
        const change = (Math.random() - 0.5) * 2;
        return Math.max(75, Math.min(95, value + change));
      });
      
      productivityState.consistencyData = productivityState.consistencyData.map((value, index) => {
        const change = (Math.random() - 0.5) * 2;
        return Math.max(80, Math.min(96, value + change));
      });
      
      // Update chart displays
      updateChartDisplays();
    }

    function updateChartDisplays() {
      // Update main chart bars
      const currentBars = document.querySelectorAll('.bar.current');
      const previousBars = document.querySelectorAll('.bar.previous');
      
      currentBars.forEach((bar, index) => {
        if (productivityState.weeklyData[index]) {
          bar.style.height = productivityState.weeklyData[index] + '%';
        }
      });
      
      previousBars.forEach((bar, index) => {
        if (productivityState.historicalData.lastWeek[index]) {
          bar.style.height = productivityState.historicalData.lastWeek[index] + '%';
        }
      });
      
      // Update trend analysis
      updateTrendAnalysis();
    }

    function updateTrendAnalysis() {
      const currentAvg = productivityState.weeklyData.reduce((a, b) => a + b, 0) / productivityState.weeklyData.length;
      const lastWeekAvg = productivityState.historicalData.lastWeek.reduce((a, b) => a + b, 0) / productivityState.historicalData.lastWeek.length;
      const improvement = ((currentAvg - lastWeekAvg) / lastWeekAvg * 100).toFixed(1);
      
      // Update trend values
      const trendValues = document.querySelectorAll('.trend-value');
      if (trendValues.length >= 4) {
        trendValues[0].textContent = `${improvement > 0 ? '+' : ''}${improvement}%`;
        trendValues[1].textContent = `${Math.max(...productivityState.weeklyData)}%`;
        trendValues[2].textContent = `${currentAvg.toFixed(0)}%`;
        trendValues[3].textContent = `+${(productivityState.metrics.focusScore - 85).toFixed(0)}%`;
      }
    }

    function updateMetricDisplays() {
      const metricValues = document.querySelectorAll('.metric-value');
      const metricFills = document.querySelectorAll('.metric-fill');
      const metricChanges = document.querySelectorAll('.metric-change');
      
      const metrics = [
        productivityState.metrics.taskCompletion,
        productivityState.metrics.timeEfficiency,
        productivityState.metrics.focusScore,
        productivityState.metrics.consistency
      ];
      
      metrics.forEach((value, index) => {
        if (metricValues[index]) {
          metricValues[index].textContent = Math.round(value) + '%';
        }
        if (metricFills[index]) {
          metricFills[index].style.width = value + '%';
        }
      });
    }

    function setupChartInteractions() {
      // Add click handlers for chart bars
      document.querySelectorAll('.bar-group').forEach((barGroup, index) => {
        barGroup.addEventListener('click', function() {
          showDayDetails(index);
        });
      });

      // Add click handlers for recommendation buttons
      document.querySelectorAll('.rec-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          handleRecommendationAction(action);
        });
      });

      // Add click handlers for chart cards
      document.querySelectorAll('.chart-card').forEach((card, index) => {
        card.addEventListener('click', function() {
          showMetricDetails(index);
        });
      });

      // Add hover effects for trend cards
      document.querySelectorAll('.trend-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-4px) scale(1.02)';
        });
        card.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0) scale(1)';
        });
      });

      // Initialize animated data points
      animateDataPoints();
    }

    function animateDataPoints() {
      const dataPoints = document.querySelectorAll('.data-point');
      dataPoints.forEach((point, index) => {
        setTimeout(() => {
          point.style.opacity = '0';
          point.style.transform = 'translate(-50%, -50%) scale(0.5)';
          setTimeout(() => {
            point.style.opacity = '1';
            point.style.transform = 'translate(-50%, -50%) scale(1)';
          }, 200);
        }, index * 100);
      });
    }

    function showMetricDetails(metricIndex) {
      const metrics = ['Task Completion', 'Time Efficiency', 'Focus Score', 'Consistency'];
      const metric = metrics[metricIndex];
      const data = [
        productivityState.taskCompletionData,
        productivityState.timeEfficiencyData,
        productivityState.focusScoreData,
        productivityState.consistencyData
      ][metricIndex];
      
      const avg = (data.reduce((a, b) => a + b, 0) / data.length).toFixed(1);
      const max = Math.max(...data);
      const min = Math.min(...data);
      
      const details = `
üìä ${metric} Analysis:
‚Ä¢ Average: ${avg}%
‚Ä¢ Peak: ${max}%
‚Ä¢ Lowest: ${min}%
‚Ä¢ Range: ${max - min}%
‚Ä¢ Trend: ${data[data.length - 1] > data[0] ? '‚ÜóÔ∏è Improving' : '‚ÜòÔ∏è Declining'}
      `;
      
      showNotification(details);
    }

    function showDayDetails(dayIndex) {
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
      const currentScore = productivityState.weeklyData[dayIndex];
      const previousScore = productivityState.monthlyData[dayIndex];
      
      showNotification(`üìä ${days[dayIndex]}: Current ${currentScore}% vs Previous ${previousScore}%`);
    }

    function handleRecommendationAction(action) {
      switch (action) {
        case 'Try Pomodoro Timer':
          showNotification('üßò Pomodoro Timer activated! 25 minutes of focused work.');
          productivityState.metrics.focusScore += 5;
          break;
        case 'Set Focus Time':
          const hours = prompt('How many hours of focus time?', '2');
          if (hours) {
            showNotification(`üìÖ Focus time scheduled for ${hours} hours`);
            productivityState.metrics.timeEfficiency += 3;
          }
          break;
        case 'Learn More':
          showNotification('üéØ Priority Matrix guide opened. Use Eisenhower method for better task prioritization.');
          break;
      }
      
      updateMetricDisplays();
    }

    function showNotification(message) {
      const notification = document.createElement('div');
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4CAF50;
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease-in';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // Logout function
    function logout() {
      const confirmLogout = confirm('Are you sure you want to logout?');
      if (confirmLogout) {
        // Clear any stored user data
        localStorage.removeItem('userRole');
        localStorage.removeItem('userSettings');
        
        // Show logout message
        alert('Logging out...');
        
        // Redirect to home page after a short delay
        setTimeout(() => {
          window.location.href = '../home.html';
        }, 1000);
      }
    }
  </script>

  <style>
    /* Animation keyframes */
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Score circle enhancements */
    .score-circle {
      transition: all 0.3s ease;
    }

    .score-circle:hover {
      transform: scale(1.05);
    }

    .score-ring circle:last-child {
      transition: stroke-dashoffset 0.5s ease;
    }

    /* Chart enhancements */
    .chart {
      height: 300px;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      padding: 20px 0;
      position: relative;
    }

    .chart-bars {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      width: 100%;
      height: 100%;
      gap: 8px;
    }

    .bar-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      flex: 1;
    }

    .bar-group:hover {
      transform: scaleY(1.05);
    }

    .bar {
      width: 100%;
      border-radius: 4px 4px 0 0;
      position: relative;
      transition: all 0.3s ease;
      min-height: 20px;
    }

    .bar.current {
      background: linear-gradient(to top, #00d2ff, #3a7bd5);
      box-shadow: 0 2px 8px rgba(0, 210, 255, 0.3);
      margin-bottom: 2px;
    }

    .bar.previous {
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1);
    }

    .bar-value {
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.7rem;
      font-weight: 600;
      color: #fff;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .bar-group:hover .bar-value {
      opacity: 1;
    }

    .bar-label {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.8);
      font-weight: 500;
    }

    /* Metric card enhancements */
    .metric-card {
      transition: all 0.3s ease;
    }

    .metric-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .metric-fill {
      transition: width 0.5s ease;
    }

    /* Recommendation card enhancements */
    .recommendation-card {
      transition: all 0.3s ease;
    }

    .recommendation-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.2);
    }

    .rec-btn {
      transition: all 0.3s ease;
    }

    .rec-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    /* Pulse animation for score */
    .score-value {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Chart Section */
    .chart-section {
      margin: 2rem 0;
    }

    .chart-section h2 {
      color: #fff;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .chart-container {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      min-height: 400px;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .chart-header span {
      color: #fff;
      font-weight: 600;
      font-size: 1.1rem;
    }

    .chart-legend {
      display: flex;
      gap: 1rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
    }

    .legend-color {
      width: 12px;
      height: 12px;
      border-radius: 2px;
    }

    /* Detailed Charts Section */
    .detailed-charts-section {
      margin: 2rem 0;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .detailed-charts-section h2 {
      color: #fff;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .chart-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .chart-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      background: rgba(255, 255, 255, 0.12);
    }

    .chart-card h3 {
      color: #fff;
      margin-bottom: 1rem;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .mini-chart {
      position: relative;
      height: 120px;
      margin-bottom: 1rem;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 1rem;
    }

    .chart-line {
      position: relative;
      height: 100%;
      width: 100%;
    }

    .data-point {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #00d2ff;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 10px rgba(0, 210, 255, 0.5);
    }

    .data-point::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 12px;
      height: 12px;
      background: rgba(0, 210, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: pulse 2s infinite;
    }

    .chart-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 0.5rem;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .chart-stats {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .stat-label {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 0.25rem;
    }

    .stat-value {
      font-size: 1rem;
      font-weight: 600;
      color: #00d2ff;
    }

    /* Trend Analysis Section */
    .trend-analysis-section {
      margin: 2rem 0;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .trend-analysis-section h2 {
      color: #fff;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .trend-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .trend-card {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .trend-card.positive {
      background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
      border-color: rgba(76, 175, 80, 0.3);
    }

    .trend-card.neutral {
      background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 193, 7, 0.05));
      border-color: rgba(255, 193, 7, 0.3);
    }

    .trend-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .trend-icon {
      font-size: 2rem;
      flex-shrink: 0;
    }

    .trend-content h4 {
      color: #fff;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .trend-content p {
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 1rem;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .trend-data {
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
    }

    .trend-value {
      font-size: 1.2rem;
      font-weight: 700;
      color: #00d2ff;
    }

    .trend-period {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.6);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
      
      .trend-grid {
        grid-template-columns: 1fr;
      }
      
      .chart-stats {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .trend-card {
        flex-direction: column;
        text-align: center;
      }
    }
  </style>
</body>
</html>